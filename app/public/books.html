<!doctype html>
<html>
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    
        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
        <link href="css/styles.css" rel="stylesheet" type="text/css">
        
        <script src="https://unpkg.com/vue@next"></script>
        <script src="https://unpkg.com/dayjs@1.8.21/dayjs.min.js"></script>
        <title>Hello, world!</title>
    </head>
    <body>
        <div class="container-fluid p-0">
            <!-- Nav Bar -->
            <nav class="navbar navbar-expand-lg navbar-dark bg-blue">
                <a class="navbar-brand nav-name" href="index.html">Kathy</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse d-flex flex-row-reverse" id="navbarNav">
                    <ul class="navbar-nav">
                      <li class="nav-item">
                          <a class="nav-link" href="./index.html">Home</a>
                      </li>
                      <li class="nav-item">
                          <a class="nav-link" href="./books.html">Books</a>
                      </li>
                      <li class="nav-item">
                          <a class="nav-link" href="./contact.html">Contact</a>
                      </li>
                    </ul>
                </div>
            </nav>

            <div id="offerApp">
                <h1 class="text-center pt-md-2">Books Available</h1>
                <div class="mt-4 mx-md-5">
                    <table class="table table-striped">
                        <thead>
                          <tr>
                            <th scope="col">Title</th>
                            <th scope="col">Author</th>
                            <th scope="col">Year Published</th>
                            <th scope="col">Publisher</th>
                            <th scope="col">Page count</th>
                            <th scope="col">MSRP</th>
                          </tr>
                        </thead>
                        <tbody>
                            <tbody>
                                <tr v-for="s in students">
                                    <td>{{ s.title }}</td>
                                    <td>{{ s.author }}</td>
                                    <td>{{ s.yearpublished }}</td>
                                    <td>{{ s.publisher }}</td>
                                    <td>{{ s.pagecount }}</td>
                                    <td>{{ prettyDollar(s.msrp) }}</td>
                                    <td>
                                        <button v-on:click="handleEditOffer(s)"type="button" class="btn btn-outline-primary btn-sm">Edit</button>
                                        <button v-on:click="postDeleteOffer(s)" type="button" class="btn btn-outline-danger btn-sm">Delete</button>
                                    </td>
                                </tr>
                            </tbody>
                        </tbody>
                    </table> 
                </div>
        
                <div class="row my-4 mx-md-5 d-block">
                    <div class="col-md-4 col-md-offset-4 justify-content-center mx-auto">
                        <form form v-on:submit.prevent="postOffer">
                            <h1  class="text-center pt-md-4">{{ selectedOffer === null ? "Add books" : "Edit books" }}</h1>
                            <div class="form-group row">
                                <label for="title" class="col-md-4 col-sm-2 col-form-label">Title</label>
                                <div class="col-md-8 col-sm-10">
                                    <input type="text"  v-model="offerForm.title" class="form-control" id="title" placeholder="Book Title">
                                </div>
                            </div>
    
                            <div class="form-group row">
                                <label for="author" class="col-md-4 col-sm-2 col-form-label">Author</label>
                                <div class="col-md-8 col-sm-10">
                                    <input type="text" v-model="offerForm.author" class="form-control" id="author" placeholder="Book Author">
                                </div>
                            </div>
    
                            <div class="form-group row">
                                <label for="yearpublished" class="col-md-4 col-sm-2 col-form-label">Year</label>
                                <div class="col-md-8 col-sm-10">
                                    <input type="text" v-model="offerForm.yearpublished" class="form-control" id="yearpublish" placeholder="Publish year">
                                </div>
                            </div>
    
                            <div class="form-group row">
                                <label for="publisher" class="col-md-4 col-sm-2 col-form-label">Publisher</label>
                                <div class="col-md-8 col-sm-10">
                                    <input type="text" v-model="offerForm.publisher" class="form-control" id="publisher" placeholder="Book Publisher">
                                </div>
                            </div>
    
                            <div class="form-group row">
                                <label for="pagecount" class="col-md-4 col-sm-2 col-form-label">Page Count</label>
                                <div class="col-md-8 col-sm-10">
                                    <input type="text" v-model="offerForm.pagecount" class="form-control" id="pagecount" placeholder="Number of pages">
                                </div>
                            </div>
    
                            <div class="form-group row">
                                <label for="msrp" class="col-md-4 col-sm-2 col-form-label">MSRP</label>
                                <div class="col-md-8 col-sm-10">
                                    <input type="text" v-model="offerForm.msrp" class="form-control" id="msrp" placeholder="Price">
                                </div>
                            </div>
                            <button type="submit" class="m-1 btn btn-success">{{ selectedOffer === null ? "Add" : "Edit" }}</button> 
                            <button v-if="selectedOffer" v-on:click="handleResetEdit" type="submit" class="btn btn-danger">Cancel Edit</button> 
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Table sorting credits:http://tristen.ca/tablesort/demo/ -->
        <script src="./js/index.js"></script>
        <!-- <script src="./js/tablesort.min.js"></script> -->
        <!-- <script>
            new Tablesort(document.getElementById('sortedtable'));
        </script> -->
    </body>
</html>


